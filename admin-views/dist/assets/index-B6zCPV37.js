import{r as a,co as u,cp as p,j as n,z as m,cq as h,cr as g}from"./index-TozAJww7.js";function w({currentRoute:r}){const[i,o]=a.useState(!0),t=a.useRef(null),d=()=>{var c;const e=((c=document.querySelector(".ant-layout-content.overflow-hidden"))==null?void 0:c.offsetTop)||65;return`${window.innerHeight-e-75}px`},l=u(),s=p(e=>e),f=()=>{s[r.iframe_url]?(t.current.srcdoc=s[r.iframe_url],o(!1)):t.current.src=r.iframe_url};return a.useEffect(()=>{f();const e=()=>{t.current.style.height=d()};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[r.iframe_url]),n(m,{children:n(h,{spinning:i,style:{minHeight:i?"500px":""},children:n("iframe",{ref:t,title:"Iframe Page",width:"100%",style:{border:"none",order:0,boxSizing:"border-box",overflow:"hidden",minHeight:"500px"},onLoad:()=>{o(!1),l({type:"update-iframe-cache",payload:{url:r.iframe_url,inited:!0}})}})})})}w.propTypes={currentRoute:g.object.isRequired};export{w as default};
